<!DOCTYPE html>
<html lang="en" data-theme="corporate">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DriftMgr v3.0 - Terraform State Intelligence Platform</title>
    
    <!-- Tailwind CSS and DaisyUI -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.4.19/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Alpine.js for reactivity -->
    <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    
    <!-- Chart.js for visualizations -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Vis.js for dependency graphs -->
    <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
    
    <style>
        /* Clean, professional styling */
        :root {
            --primary-color: #7B42BC; /* Terraform purple */
            --secondary-color: #ff9900; /* AWS orange */
            --success-color: #10b981;
            --error-color: #ef4444;
            --warning-color: #f59e0b;
        }
        
        .terraform-gradient {
            background: linear-gradient(135deg, #7B42BC 0%, #5E2CA5 100%);
        }
        
        .tab-active {
            border-bottom: 3px solid var(--primary-color);
            color: var(--primary-color);
        }
        
        /* WebSocket status indicator */
        .ws-connected {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
    </style>
</head>
<body x-data="driftMgrV3App()" x-init="init()" class="min-h-screen bg-gray-50">
    
    <!-- Top Navigation Bar -->
    <nav class="navbar bg-white shadow-sm border-b">
        <div class="navbar-start">
            <div class="flex items-center gap-3">
                <div class="text-2xl font-mono font-bold text-primary">DriftMgr</div>
                <div class="badge badge-primary">v3.0</div>
                <div x-show="wsConnected" class="badge badge-success gap-1">
                    <div class="w-2 h-2 bg-green-500 rounded-full ws-connected"></div>
                    <span>Connected</span>
                </div>
            </div>
        </div>
        
        <div class="navbar-center">
            <!-- Quick Actions Bar -->
            <div class="flex gap-2">
                <button @click="discoverBackends()" class="btn btn-sm btn-primary">
                    <i class="fas fa-search"></i> Discover Backends
                </button>
                <button @click="runDriftDetection()" class="btn btn-sm btn-warning">
                    <i class="fas fa-sync"></i> Detect Drift
                </button>
                <button @click="openImportWizard()" class="btn btn-sm btn-success">
                    <i class="fas fa-file-import"></i> Import Resources
                </button>
            </div>
        </div>
        
        <div class="navbar-end gap-2">
            <!-- Environment Selector -->
            <select x-model="selectedEnvironment" class="select select-sm select-bordered">
                <option value="development">Development</option>
                <option value="staging">Staging</option>
                <option value="production">Production</option>
            </select>
            
            <!-- Notifications -->
            <div class="dropdown dropdown-end">
                <label tabindex="0" class="btn btn-ghost btn-circle">
                    <div class="indicator">
                        <i class="fas fa-bell"></i>
                        <span x-show="notifications.length > 0" class="badge badge-xs badge-primary indicator-item" x-text="notifications.length"></span>
                    </div>
                </label>
                <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-100 rounded-box w-80 max-h-96 overflow-y-auto">
                    <template x-for="notification in notifications" :key="notification.id">
                        <li>
                            <div class="alert" :class="'alert-' + notification.type">
                                <div>
                                    <span x-text="notification.message"></span>
                                    <div class="text-xs opacity-60" x-text="notification.timestamp"></div>
                                </div>
                            </div>
                        </li>
                    </template>
                </ul>
            </div>
        </div>
    </nav>
    
    <!-- Main Navigation Tabs (v3.0 Architecture Aligned) -->
    <div class="tabs tabs-boxed bg-white shadow-sm p-2">
        <a @click="currentView = 'backends'" :class="currentView === 'backends' ? 'tab-active' : ''" class="tab">
            <i class="fas fa-database mr-2"></i> Backend Discovery
        </a>
        <a @click="currentView = 'states'" :class="currentView === 'states' ? 'tab-active' : ''" class="tab">
            <i class="fas fa-file-code mr-2"></i> State Management
        </a>
        <a @click="currentView = 'drift'" :class="currentView === 'drift' ? 'tab-active' : ''" class="tab">
            <i class="fas fa-exchange-alt mr-2"></i> Drift Detection
        </a>
        <a @click="currentView = 'resources'" :class="currentView === 'resources' ? 'tab-active' : ''" class="tab">
            <i class="fas fa-cube mr-2"></i> Resources
        </a>
        <a @click="currentView = 'terragrunt'" :class="currentView === 'terragrunt' ? 'tab-active' : ''" class="tab">
            <i class="fas fa-layer-group mr-2"></i> Terragrunt
        </a>
        <a @click="currentView = 'remediation'" :class="currentView === 'remediation' ? 'tab-active' : ''" class="tab">
            <i class="fas fa-tools mr-2"></i> Remediation
        </a>
        <a @click="currentView = 'compliance'" :class="currentView === 'compliance' ? 'tab-active' : ''" class="tab">
            <i class="fas fa-shield-alt mr-2"></i> Compliance
        </a>
        <a @click="currentView = 'monitoring'" :class="currentView === 'monitoring' ? 'tab-active' : ''" class="tab">
            <i class="fas fa-chart-line mr-2"></i> Monitoring
        </a>
    </div>
    
    <!-- Main Content Area -->
    <div class="container mx-auto p-4">
        
        <!-- Backend Discovery View (New in v3.0) -->
        <div x-show="currentView === 'backends'" class="space-y-4">
            <div class="card bg-white shadow-lg">
                <div class="card-body">
                    <h2 class="card-title">
                        <i class="fas fa-database"></i> Remote Backend Discovery
                    </h2>
                    
                    <!-- Backend Types -->
                    <div class="grid grid-cols-4 gap-4 mt-4">
                        <div class="stat bg-base-100 rounded-lg shadow">
                            <div class="stat-figure text-primary">
                                <i class="fab fa-aws text-3xl"></i>
                            </div>
                            <div class="stat-title">S3 Backends</div>
                            <div class="stat-value" x-text="backends.s3.count">0</div>
                            <div class="stat-desc">
                                <span x-text="backends.s3.states"></span> state files
                            </div>
                        </div>
                        
                        <div class="stat bg-base-100 rounded-lg shadow">
                            <div class="stat-figure text-info">
                                <i class="fab fa-microsoft text-3xl"></i>
                            </div>
                            <div class="stat-title">Azure Storage</div>
                            <div class="stat-value" x-text="backends.azure.count">0</div>
                            <div class="stat-desc">
                                <span x-text="backends.azure.states"></span> state files
                            </div>
                        </div>
                        
                        <div class="stat bg-base-100 rounded-lg shadow">
                            <div class="stat-figure text-success">
                                <i class="fab fa-google text-3xl"></i>
                            </div>
                            <div class="stat-title">GCS Backends</div>
                            <div class="stat-value" x-text="backends.gcs.count">0</div>
                            <div class="stat-desc">
                                <span x-text="backends.gcs.states"></span> state files
                            </div>
                        </div>
                        
                        <div class="stat bg-base-100 rounded-lg shadow">
                            <div class="stat-figure text-warning">
                                <i class="fas fa-folder text-3xl"></i>
                            </div>
                            <div class="stat-title">Local</div>
                            <div class="stat-value" x-text="backends.local.count">0</div>
                            <div class="stat-desc">
                                <span x-text="backends.local.states"></span> state files
                            </div>
                        </div>
                    </div>
                    
                    <!-- Discovery Actions -->
                    <div class="flex gap-2 mt-4">
                        <button @click="scanForBackends()" class="btn btn-primary">
                            <i class="fas fa-radar"></i> Scan for Backends
                        </button>
                        <button @click="configureBackend()" class="btn btn-secondary">
                            <i class="fas fa-cog"></i> Configure Backend
                        </button>
                        <button @click="testConnections()" class="btn btn-accent">
                            <i class="fas fa-plug"></i> Test Connections
                        </button>
                    </div>
                    
                    <!-- Backend List -->
                    <div class="overflow-x-auto mt-4">
                        <table class="table table-zebra w-full">
                            <thead>
                                <tr>
                                    <th>Backend Type</th>
                                    <th>Location</th>
                                    <th>State Files</th>
                                    <th>Last Accessed</th>
                                    <th>Lock Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <template x-for="backend in backendsList" :key="backend.id">
                                    <tr>
                                        <td>
                                            <span class="badge" :class="getBackendBadgeClass(backend.type)" x-text="backend.type"></span>
                                        </td>
                                        <td x-text="backend.location"></td>
                                        <td x-text="backend.stateCount"></td>
                                        <td x-text="backend.lastAccessed"></td>
                                        <td>
                                            <span x-show="!backend.locked" class="badge badge-success">Unlocked</span>
                                            <span x-show="backend.locked" class="badge badge-error">Locked</span>
                                        </td>
                                        <td>
                                            <div class="btn-group">
                                                <button @click="exploreBackend(backend)" class="btn btn-xs btn-info">
                                                    <i class="fas fa-folder-open"></i>
                                                </button>
                                                <button @click="pullState(backend)" class="btn btn-xs btn-success">
                                                    <i class="fas fa-download"></i>
                                                </button>
                                                <button @click="pushState(backend)" class="btn btn-xs btn-warning">
                                                    <i class="fas fa-upload"></i>
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                </template>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- State Management View (Enhanced for v3.0) -->
        <div x-show="currentView === 'states'" class="space-y-4">
            <div class="card bg-white shadow-lg">
                <div class="card-body">
                    <h2 class="card-title">
                        <i class="fas fa-file-code"></i> Terraform State Management
                    </h2>
                    
                    <!-- State Operations -->
                    <div class="tabs tabs-boxed">
                        <a @click="stateTab = 'browser'" :class="stateTab === 'browser' ? 'tab-active' : ''" class="tab">Browse States</a>
                        <a @click="stateTab = 'operations'" :class="stateTab === 'operations' ? 'tab-active' : ''" class="tab">Operations</a>
                        <a @click="stateTab = 'history'" :class="stateTab === 'history' ? 'tab-active' : ''" class="tab">History</a>
                        <a @click="stateTab = 'dependencies'" :class="stateTab === 'dependencies' ? 'tab-active' : ''" class="tab">Dependencies</a>
                    </div>
                    
                    <!-- State Browser Tab -->
                    <div x-show="stateTab === 'browser'" class="mt-4">
                        <div class="grid grid-cols-3 gap-4">
                            <!-- State File List -->
                            <div class="col-span-1 border-r pr-4">
                                <h3 class="font-bold mb-2">State Files</h3>
                                <div class="space-y-2">
                                    <template x-for="state in stateFiles" :key="state.path">
                                        <div @click="selectState(state)" class="cursor-pointer p-2 hover:bg-base-200 rounded" :class="selectedState?.path === state.path ? 'bg-primary/10' : ''">
                                            <div class="flex items-center justify-between">
                                                <div>
                                                    <div class="font-semibold" x-text="state.name"></div>
                                                    <div class="text-xs opacity-60" x-text="state.backend"></div>
                                                </div>
                                                <span class="badge badge-sm" x-text="state.resourceCount + ' resources'"></span>
                                            </div>
                                        </div>
                                    </template>
                                </div>
                            </div>
                            
                            <!-- State Details -->
                            <div class="col-span-2 pl-4">
                                <div x-show="selectedState">
                                    <h3 class="font-bold mb-2">State Details</h3>
                                    <div class="space-y-2">
                                        <div class="flex justify-between">
                                            <span>Version:</span>
                                            <span class="font-mono" x-text="selectedState?.version"></span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>Serial:</span>
                                            <span class="font-mono" x-text="selectedState?.serial"></span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>Lineage:</span>
                                            <span class="font-mono text-xs" x-text="selectedState?.lineage"></span>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>Terraform Version:</span>
                                            <span class="font-mono" x-text="selectedState?.terraformVersion"></span>
                                        </div>
                                        
                                        <!-- Resource List -->
                                        <div class="mt-4">
                                            <h4 class="font-semibold mb-2">Resources</h4>
                                            <div class="max-h-64 overflow-y-auto">
                                                <template x-for="resource in selectedState?.resources" :key="resource.address">
                                                    <div class="flex items-center justify-between p-2 hover:bg-base-200 rounded">
                                                        <div>
                                                            <div class="font-mono text-sm" x-text="resource.address"></div>
                                                            <div class="text-xs opacity-60" x-text="resource.type"></div>
                                                        </div>
                                                        <div class="badge badge-sm" x-text="resource.provider"></div>
                                                    </div>
                                                </template>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- State Operations Tab -->
                    <div x-show="stateTab === 'operations'" class="mt-4">
                        <div class="grid grid-cols-2 gap-4">
                            <div class="card bg-base-100">
                                <div class="card-body">
                                    <h3 class="card-title text-lg">Push State</h3>
                                    <p class="text-sm opacity-60">Upload local state to remote backend</p>
                                    <div class="form-control">
                                        <label class="label">Local State File</label>
                                        <input type="file" class="file-input file-input-bordered" x-model="pushStateFile">
                                    </div>
                                    <div class="form-control">
                                        <label class="label">Target Backend</label>
                                        <select class="select select-bordered" x-model="pushTarget">
                                            <option value="s3">S3</option>
                                            <option value="azure">Azure Storage</option>
                                            <option value="gcs">GCS</option>
                                        </select>
                                    </div>
                                    <button @click="pushStateToBackend()" class="btn btn-primary">
                                        <i class="fas fa-upload"></i> Push State
                                    </button>
                                </div>
                            </div>
                            
                            <div class="card bg-base-100">
                                <div class="card-body">
                                    <h3 class="card-title text-lg">Pull State</h3>
                                    <p class="text-sm opacity-60">Download state from remote backend</p>
                                    <div class="form-control">
                                        <label class="label">Source Backend</label>
                                        <select class="select select-bordered" x-model="pullSource">
                                            <option value="s3">S3</option>
                                            <option value="azure">Azure Storage</option>
                                            <option value="gcs">GCS</option>
                                        </select>
                                    </div>
                                    <div class="form-control">
                                        <label class="label">State Key</label>
                                        <input type="text" class="input input-bordered" x-model="pullStateKey" placeholder="path/to/state.tfstate">
                                    </div>
                                    <button @click="pullStateFromBackend()" class="btn btn-success">
                                        <i class="fas fa-download"></i> Pull State
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Advanced Operations -->
                        <div class="grid grid-cols-3 gap-4 mt-4">
                            <button @click="moveResource()" class="btn btn-outline">
                                <i class="fas fa-arrows-alt"></i> Move Resource
                            </button>
                            <button @click="removeResource()" class="btn btn-outline btn-error">
                                <i class="fas fa-trash"></i> Remove Resource
                            </button>
                            <button @click="importResource()" class="btn btn-outline btn-success">
                                <i class="fas fa-file-import"></i> Import Resource
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Terragrunt View (New in v3.0) -->
        <div x-show="currentView === 'terragrunt'" class="space-y-4">
            <div class="card bg-white shadow-lg">
                <div class="card-body">
                    <h2 class="card-title">
                        <i class="fas fa-layer-group"></i> Terragrunt Configuration
                    </h2>
                    
                    <!-- Terragrunt Modules -->
                    <div class="grid grid-cols-2 gap-4 mt-4">
                        <div>
                            <h3 class="font-bold mb-2">Module Hierarchy</h3>
                            <div class="tree">
                                <template x-for="module in terragruntModules" :key="module.path">
                                    <div class="ml-4">
                                        <div class="flex items-center gap-2 p-2 hover:bg-base-200 rounded cursor-pointer" @click="selectTerragruntModule(module)">
                                            <i class="fas fa-folder" x-show="module.hasChildren"></i>
                                            <i class="fas fa-file" x-show="!module.hasChildren"></i>
                                            <span x-text="module.name"></span>
                                            <span class="badge badge-xs" x-text="module.dependencies.length + ' deps'" x-show="module.dependencies.length > 0"></span>
                                        </div>
                                    </div>
                                </template>
                            </div>
                        </div>
                        
                        <div>
                            <h3 class="font-bold mb-2">Module Details</h3>
                            <div x-show="selectedTerragruntModule" class="space-y-2">
                                <div>
                                    <span class="font-semibold">Path:</span>
                                    <span class="font-mono text-sm" x-text="selectedTerragruntModule?.path"></span>
                                </div>
                                <div>
                                    <span class="font-semibold">Source:</span>
                                    <span class="font-mono text-sm" x-text="selectedTerragruntModule?.source"></span>
                                </div>
                                <div>
                                    <span class="font-semibold">Dependencies:</span>
                                    <ul class="list-disc ml-4">
                                        <template x-for="dep in selectedTerragruntModule?.dependencies" :key="dep">
                                            <li class="font-mono text-sm" x-text="dep"></li>
                                        </template>
                                    </ul>
                                </div>
                                
                                <!-- Terragrunt Actions -->
                                <div class="flex gap-2 mt-4">
                                    <button @click="runTerragruntPlan()" class="btn btn-sm btn-primary">
                                        <i class="fas fa-clipboard-list"></i> Plan
                                    </button>
                                    <button @click="runTerragruntApply()" class="btn btn-sm btn-success">
                                        <i class="fas fa-check"></i> Apply
                                    </button>
                                    <button @click="runTerragruntRunAll()" class="btn btn-sm btn-warning">
                                        <i class="fas fa-play"></i> Run All
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Dependency Graph -->
                    <div class="mt-4">
                        <h3 class="font-bold mb-2">Dependency Graph</h3>
                        <div id="terragrunt-dependency-graph" class="h-96 border rounded-lg"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Compliance View (New in v3.0) -->
        <div x-show="currentView === 'compliance'" class="space-y-4">
            <div class="card bg-white shadow-lg">
                <div class="card-body">
                    <h2 class="card-title">
                        <i class="fas fa-shield-alt"></i> Compliance & Governance
                    </h2>
                    
                    <!-- Policy Engine Status -->
                    <div class="alert alert-info mt-4">
                        <i class="fas fa-info-circle"></i>
                        <div>
                            <h3 class="font-bold">OPA Policy Engine</h3>
                            <p>Status: <span class="badge badge-success">Active</span></p>
                        </div>
                    </div>
                    
                    <!-- Compliance Reports -->
                    <div class="grid grid-cols-3 gap-4 mt-4">
                        <div class="card bg-base-100">
                            <div class="card-body">
                                <h3 class="card-title">SOC2 Compliance</h3>
                                <div class="radial-progress text-primary" style="--value:85;">85%</div>
                                <button @click="generateReport('soc2')" class="btn btn-primary btn-sm">
                                    Generate Report
                                </button>
                            </div>
                        </div>
                        
                        <div class="card bg-base-100">
                            <div class="card-body">
                                <h3 class="card-title">HIPAA Compliance</h3>
                                <div class="radial-progress text-success" style="--value:92;">92%</div>
                                <button @click="generateReport('hipaa')" class="btn btn-success btn-sm">
                                    Generate Report
                                </button>
                            </div>
                        </div>
                        
                        <div class="card bg-base-100">
                            <div class="card-body">
                                <h3 class="card-title">PCI-DSS Compliance</h3>
                                <div class="radial-progress text-warning" style="--value:78;">78%</div>
                                <button @click="generateReport('pci-dss')" class="btn btn-warning btn-sm">
                                    Generate Report
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Policy Violations -->
                    <div class="mt-4">
                        <h3 class="font-bold mb-2">Policy Violations</h3>
                        <div class="overflow-x-auto">
                            <table class="table table-zebra w-full">
                                <thead>
                                    <tr>
                                        <th>Policy</th>
                                        <th>Resource</th>
                                        <th>Severity</th>
                                        <th>Description</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <template x-for="violation in policyViolations" :key="violation.id">
                                        <tr>
                                            <td x-text="violation.policy"></td>
                                            <td class="font-mono text-sm" x-text="violation.resource"></td>
                                            <td>
                                                <span class="badge" :class="getSeverityClass(violation.severity)" x-text="violation.severity"></span>
                                            </td>
                                            <td x-text="violation.description"></td>
                                            <td>
                                                <button @click="remediateViolation(violation)" class="btn btn-xs btn-primary">
                                                    Remediate
                                                </button>
                                            </td>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Monitoring View (Enhanced for v3.0) -->
        <div x-show="currentView === 'monitoring'" class="space-y-4">
            <div class="card bg-white shadow-lg">
                <div class="card-body">
                    <h2 class="card-title">
                        <i class="fas fa-chart-line"></i> Continuous Monitoring
                    </h2>
                    
                    <!-- Real-time Metrics -->
                    <div class="grid grid-cols-4 gap-4 mt-4">
                        <div class="stat bg-base-100 rounded-lg shadow">
                            <div class="stat-title">Discovery Rate</div>
                            <div class="stat-value text-primary" x-text="metrics.discoveryRate + '/min'">0/min</div>
                            <div class="stat-desc">Resources discovered</div>
                        </div>
                        
                        <div class="stat bg-base-100 rounded-lg shadow">
                            <div class="stat-title">Drift Detection</div>
                            <div class="stat-value text-warning" x-text="metrics.driftRate + '%'">0%</div>
                            <div class="stat-desc">Drift percentage</div>
                        </div>
                        
                        <div class="stat bg-base-100 rounded-lg shadow">
                            <div class="stat-title">Remediation Success</div>
                            <div class="stat-value text-success" x-text="metrics.remediationSuccess + '%'">0%</div>
                            <div class="stat-desc">Auto-remediation rate</div>
                        </div>
                        
                        <div class="stat bg-base-100 rounded-lg shadow">
                            <div class="stat-title">Cost Impact</div>
                            <div class="stat-value text-error" x-text="'$' + metrics.costImpact">$0</div>
                            <div class="stat-desc">Monthly drift cost</div>
                        </div>
                    </div>
                    
                    <!-- Event Stream -->
                    <div class="mt-4">
                        <h3 class="font-bold mb-2">Event Stream</h3>
                        <div class="max-h-64 overflow-y-auto bg-base-100 rounded-lg p-4 font-mono text-sm">
                            <template x-for="event in eventStream" :key="event.id">
                                <div class="flex items-center gap-2 mb-1">
                                    <span class="text-xs opacity-60" x-text="event.timestamp"></span>
                                    <span class="badge badge-xs" :class="getEventTypeClass(event.type)" x-text="event.type"></span>
                                    <span x-text="event.message"></span>
                                </div>
                            </template>
                        </div>
                    </div>
                    
                    <!-- Webhook Configuration -->
                    <div class="mt-4">
                        <h3 class="font-bold mb-2">Webhook Receivers</h3>
                        <div class="flex gap-2">
                            <button @click="configureWebhook('eventbridge')" class="btn btn-sm" :class="webhooks.eventbridge ? 'btn-success' : 'btn-outline'">
                                <i class="fab fa-aws"></i> EventBridge
                            </button>
                            <button @click="configureWebhook('eventgrid')" class="btn btn-sm" :class="webhooks.eventgrid ? 'btn-success' : 'btn-outline'">
                                <i class="fab fa-microsoft"></i> Event Grid
                            </button>
                            <button @click="configureWebhook('pubsub')" class="btn btn-sm" :class="webhooks.pubsub ? 'btn-success' : 'btn-outline'">
                                <i class="fab fa-google"></i> Pub/Sub
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
    </div>
    
    <!-- Progress Modal for Long Operations -->
    <div x-show="showProgress" class="modal modal-open">
        <div class="modal-box">
            <h3 class="font-bold text-lg" x-text="progressTitle">Operation in Progress</h3>
            <p class="py-4" x-text="progressMessage">Processing...</p>
            <progress class="progress progress-primary w-full" :value="progressValue" max="100"></progress>
            <div class="modal-action">
                <button @click="cancelOperation()" class="btn btn-error">Cancel</button>
            </div>
        </div>
    </div>
    
    <!-- Load the v3.0 aligned JavaScript -->
    <script src="js/app.js"></script>
</body>
</html>